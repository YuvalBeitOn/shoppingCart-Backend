(function(t){function e(e){for(var n,s,a=e[0],u=e[1],i=e[2],d=0,p=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(c,s)&&c[s]&&p.push(c[s][0]),c[s]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(p.length)p.shift()();return o.push.apply(o,i||[]),r()}function r(){for(var t,e=0;e<o.length;e++){for(var r=o[e],n=!0,a=1;a<r.length;a++){var u=r[a];0!==c[u]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=r[0]))}return t}var n={},c={app:0},o=[];function s(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=t,s.c=n,s.d=function(t,e,r){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(r,n,function(e){return t[e]}.bind(null,n));return r},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],u=a.push.bind(a);a.push=e,a=a.slice();for(var i=0;i<a.length;i++)e(a[i]);var l=u;o.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"shop-app container"},[r("main",{staticClass:"main-container"},[r("app-header"),r("router-view",{staticClass:"grow"}),r("app-footer")],1)])},o=[],s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",{staticClass:"app-footer flex align-center justify-center"},[r("div",[t._v("Â© 2020 Yuval Beit On & Guy Indepurker - All Rights Reserved")])])}],u={},i=u,l=r("2877"),d=Object(l["a"])(i,s,a,!1,null,null,null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"app-header-container"},[n("section",{staticClass:"app-header flex space-between align-center"},[n("router-link",{attrs:{to:"/"}},[n("h1",[t._v("Miss Shop")])]),n("nav",{staticClass:"nav-menu"},[n("router-link",{attrs:{to:"/"}},[t._v("Shop")]),n("router-link",{attrs:{to:"/cart"}},[n("i",{staticClass:"fas fa-shopping-cart"}),t._v(" "+t._s(t.cartLength))])],1)],1),n("img",{staticClass:"main-img",attrs:{src:r("9e86"),alt:""}}),n("div",{staticClass:"product-control flex align-center space-between"},[t._m(0),n("router-link",{attrs:{to:"/cart"}},[n("span",{staticClass:"my-cart flex"},[t._v("My Cart ("+t._s(t.cartLength)+" items)")])])],1)])},m=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"title-container flex align-center"},[r("span",{staticClass:"left-border"}),r("h2",{staticClass:"product-title"},[t._v("Our Products")])])}],h={computed:{cartLength:function(){return this.$store.getters.cartLength}}},v=h,g=Object(l["a"])(v,f,m,!1,null,null,null),b=g.exports,_={components:{appHeader:b,appFooter:p},created:function(){this.$store.dispatch({type:"loadProducts"})}},P=_,w=(r("034f"),Object(l["a"])(P,c,o,!1,null,null,null)),C=w.exports,y=r("9483");Object(y["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});var x=r("8c4f"),O=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.cartProducts.length?r("div",{staticClass:"flex justify-center align-center"},[r("h1",[t._v(" You Dont Have a product in your bag, go to shop and starting to buy!! ")])]):r("section",{staticClass:"main-cart"},[r("div",{staticClass:"cart-container flex wrap justify-center align-center"},[r("div",{staticClass:"bag-container flex column"},[r("h3",{staticClass:"mb-5"},[t._v("MY BAG")]),r("hr"),t.cartProducts?r("cart-list",{attrs:{cartProducts:t.cartProducts}}):t._e()],1),r("div",{staticClass:"total-container flex column"},[r("h3",{staticClass:"mb-5"},[t._v("TOTAL")]),r("hr"),r("div",{staticClass:"subtotal-container flex space-between"},[r("h4",{staticClass:"mb-5"},[t._v("Sub-total")]),r("span",[t._v(t._s(t.cartTotal))])]),r("hr"),r("button",{staticClass:"btn-checkout",on:{click:t.chackout}},[t._v("Chackout")])])])])},j=[],k=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.cartProducts?r("ul",{staticClass:"clean-list cart-list"},t._l(t.cartProducts,(function(t){return r("cart-preview",{key:t._id,attrs:{product:t}})})),1):t._e()},$=[],E=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product?r("li",{staticClass:"cart-preview flex"},[r("div",{staticClass:"img-container"},[r("img",{staticClass:"prod-img",attrs:{src:"https://picsum.photos/200/200?random="+t.product.imgUrl,alt:"product-Img"}})]),r("div",{staticClass:"content-container flex column"},[r("h3",[t._v(t._s(t.product.name))]),r("h4",{staticClass:"prod-price"},[t._v(t._s(t.product.price)+"$")]),r("h4",[t._v("count:"+t._s(t.product.count))])])]):t._e()},T=[],I={name:"cart-preview",props:{product:Object},computed:{}},R=I,S=Object(l["a"])(R,E,T,!1,null,null,null),L=S.exports,A={name:"cart-list",props:{cartProducts:Object},components:{cartPreview:L}},B=A,M=Object(l["a"])(B,k,$,!1,null,null,null),q=M.exports,D={name:"cart",components:{cartList:q},computed:{cartProducts:function(){return console.log("this.$store.getters.cartProducts:",this.$store.getters.cartProducts),this.$store.getters.cartProducts},cartTotal:function(){var t=this.$store.getters.cartTotal;return t||"not have"}},methods:{chackout:function(){this.$store.commit({type:"checkout"})}}},G=D,U=Object(l["a"])(G,O,j,!1,null,null,null),Y=U.exports,F=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"shop-app"},[r("product-list",{attrs:{products:t.products}})],1)},H=[],N=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"product-list clean-list flex wrap align-center justify-center"},t._l(t.products,(function(t){return r("product-preview",{key:t._id,attrs:{product:t}})})),1)},J=[],z=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("li",{staticClass:"product-preview",on:{click:t.goToDetails}},[r("img",{staticClass:"prod-img",attrs:{src:"https://picsum.photos/200/300?random="+t.product.imgUrl,alt:"product-Img"}}),r("div",{staticClass:"prod-price"},[t._v("Price: "+t._s(t.product.price)+"$")]),r("div",{staticClass:"prod-name"},[t._v(t._s(t.product.name))]),r("button",{staticClass:"add-btn",on:{click:function(e){return e.stopPropagation(),t.addToCart(t.product)}}},[t._v(" Add to cart ")])])},K=[],Q={props:{product:Object},created:function(){},methods:{addToCart:function(t){console.log("product:",t),this.$store.commit({type:"addProduct",product:t}),this.$message({message:"Your product added to the bag.",type:"success"})},goToDetails:function(){this.$router.push("/product/".concat(this.product._id))}}},V=Q,W=Object(l["a"])(V,z,K,!1,null,null,null),X=W.exports,Z={components:{productPreview:X},props:{products:Array},data:function(){return{productsCopy:null}},created:function(){this.productsCopy=this.products}},tt=Z,et=Object(l["a"])(tt,N,J,!1,null,null,null),rt=et.exports,nt={components:{productList:rt},computed:{products:function(){return this.$store.getters.products}}},ct=nt,ot=Object(l["a"])(ct,F,H,!1,null,null,null),st=ot.exports,at=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.product?r("section",{staticClass:"product-details flex space-around"},[r("img",{staticClass:"product-img",attrs:{src:t.imgSrc,alt:""}}),r("div",{staticClass:"prod-details flex column space-between"},[r("div",{staticClass:"prod-name"},[t._v(t._s(t.product.name))]),r("div",{staticClass:"prod-price"},[t._v("Price: "+t._s(t.product.price)+"$")]),r("p",{staticClass:"prod-desc"},[t._v(" Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent finibus venenatis arcu, id rutrum tellus fermentum id. Proin blandit viverra lectus, ut pellentesque dolor aliquet eget. Maecenas libero neque, consequat a blandit eget, semper a turpis. Etiam dignissim leo risus, id molestie tellus sollicitudin vitae. ")]),r("button",{staticClass:"goback-btn",on:{click:t.goBack}},[t._v("Go Back")])])]):t._e()},ut=[],it={computed:{imgSrc:function(){return"https://picsum.photos/200/300?random=".concat(this.product.imgUrl)},product:function(){return console.log(this.$store.getters.currProduct),this.$store.getters.currProduct}},methods:{goBack:function(){this.$router.push("/")}},created:function(){var t=this.$route.params.productId;console.log("productId:",t),this.$store.commit({type:"getProductById",productId:t}),console.log(product)}},lt=it,dt=Object(l["a"])(lt,at,ut,!1,null,null,null),pt=dt.exports;n["default"].use(x["a"]);var ft=[{path:"/",name:"shop",component:st},{path:"/cart",name:"cart",component:Y},{path:"/product/:productId",name:"productDetails",component:pt}],mt=new x["a"]({routes:ft}),ht=mt,vt=r("2f62"),gt=(r("7db0"),r("c740"),r("13d5"),r("a434"),r("96cf"),r("1da1")),bt=r("5530"),_t=(r("99af"),r("bc3a")),Pt=r.n(_t),wt="/api/",Ct=Pt.a.create({withCredentials:!0}),yt={get:function(t,e){return xt(t,"GET",e)},post:function(t,e){return xt(t,"POST",e)},put:function(t,e){return xt(t,"PUT",e)},delete:function(t,e){return xt(t,"DELETE",e)}};function xt(t){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(gt["a"])(regeneratorRuntime.mark((function t(e){var r,n,c,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=o.length>1&&void 0!==o[1]?o[1]:"get",n=o.length>2&&void 0!==o[2]?o[2]:null,t.prev=2,t.next=5,Ct({url:"".concat(wt).concat(e),method:r,data:n});case 5:return c=t.sent,t.abrupt("return",c.data);case 9:throw t.prev=9,t.t0=t["catch"](2),401===t.t0.response.status&&ht.push("/"),console.log("Had issues ".concat(r,"ing to server"),t.t0),t.t0;case 14:case"end":return t.stop()}}),t,null,[[2,9]])}))),Ot.apply(this,arguments)}var jt={query:kt};function kt(){return $t.apply(this,arguments)}function $t(){return $t=Object(gt["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",yt.get("product/"));case 1:case"end":return t.stop()}}),t)}))),$t.apply(this,arguments)}var Et={state:{products:null,cartProducts:[],currProduct:null},getters:{currProduct:function(t){return t.currProduct},products:function(t){return t.products},cartProducts:function(t){var e=t.cartProducts,r=e.reduce((function(t,e){return t[e._id]||(t[e._id]=Object(bt["a"])(Object(bt["a"])({},e),{},{count:0})),t[e._id].count++,t[e._id].price*=t[e._id].count,t}),{});return r},cartLength:function(t){return t.cartProducts.length},cartTotal:function(t){var e=t.cartProducts,r=e.reduce((function(t,e){return t+=e.price,t}),0);return r}},mutations:{checkout:function(t){t.cartProducts=[]},setProducts:function(t,e){var r=e.products;t.products=r,console.log("state.products:",t.products)},deleteProduct:function(t,e){var r=e.productId,n=t.cartProducts.findIndex((function(t){return t._id===r}));t.cartProducts.splice(n,1)},addProduct:function(t,e){var r=e.product;console.log("product:",r),t.cartProducts.unshift(r)},editProduct:function(t,e){var r=e.product,n=t.products.findIndex((function(t){return r._id===t._id}));t.products.splice(n,1,r)},getProductById:function(t,e){var r=e.productId;console.log("productId in store:",r);var n=t.products.find((function(t){return t._id===r}));console.log("product in store:",n),t.currProduct=n,console.log("state.currProduct:",t.currProduct)}},actions:{loadProducts:function(t){return Object(gt["a"])(regeneratorRuntime.mark((function e(){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.commit,e.next=3,jt.query();case 3:return n=e.sent,r({type:"setProducts",products:n}),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})))()},deleteProduct:function(t,e){return Object(gt["a"])(regeneratorRuntime.mark((function r(){var n,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,c=e.productId,r.next=4,jt.remove(c);case 4:return o=r.sent,n({type:"deleteProduct",productId:c}),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()},editProduct:function(t,e){return Object(gt["a"])(regeneratorRuntime.mark((function r(){var n,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,c=e.product,console.log("Product from edit store:",c),r.next=5,jt.save(c);case 5:return o=r.sent,n({type:"editProduct",Product:o}),r.abrupt("return",o);case 8:case"end":return r.stop()}}),r)})))()},addProduct:function(t,e){return Object(gt["a"])(regeneratorRuntime.mark((function r(){var n,c,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=t.commit,c=e.product,r.next=4,jt.save(c);case 4:return o=r.sent,n({type:"addProduct",product:o}),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}}};n["default"].use(vt["a"]);var Tt=new vt["a"].Store({strict:!0,modules:{productStore:Et}}),It=r("5c96"),Rt=r.n(It);r("c9b2"),r("0fae");n["default"].config.productionTip=!1,n["default"].use(Rt.a),new n["default"]({router:ht,store:Tt,render:function(t){return t(C)}}).$mount("#app")},"85ec":function(t,e,r){},"9e86":function(t,e,r){t.exports=r.p+"img/shopping.77b53b34.png"},c9b2:function(t,e,r){}});
//# sourceMappingURL=app.654037fb.js.map